<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Trailblazer: Operation 2.1 API</title>
<meta name="description" content="Operation 2.1 API - Trailblazer">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content=", ">

<!-- style -->
<link rel="shortcut icon" href="/favicon.ico">
<link href="//fonts.googleapis.com/css?family=Open+Sans:300,%20400,700,800%7CRaleway:400,200,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="/css/application.css">

<!-- script -->
<script src="/javascripts/jquery.min.js"></script>
<script src="/javascripts/application.min.js"></script>
<script>
  jQuery(document).ready(function($) {
    $(document).foundation();

    anchors.add("article h2");
    anchors.add("article h3");

    hljs.configure({
      languages: ['ruby', 'haml']
    });

    hljs.initHighlightingOnLoad();

    // $('#code-slider').slick({arrows: true, dots: true});
    $('.carousel').slick({arrows: true, dots: true});
  });
</script>


<meta property="og:title" content="Operation 2.1 API">
<meta property="og:site_name" content="Trailblazer">
<meta property="og:url" content="http://trailblazer.to/2.1/">
<meta property="og:description" content="">
<meta property="og:image" content="http://trailblazer.to/images/go-trailblazer.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@apotonick">
<meta name="twitter:title" content="Operation 2.1 API">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="http://trailblazer.to/images/go-trailblazer.jpg">

  </head>
  <body>


  <!--
    <div class="secondary callout" data-closable>
      <strong>TRB JOBS:</strong> Deutschsprachiger Ruby Developer in Hannover - <a href="/inc/jobs.html">Jaaaa!</a>
      <button class="close-button" aria-label="Dismiss alert" type="button" data-close>
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  -->

      <a class="notice" style="display: block; overflow: hidden; position: relative; width: 100%; padding: 0.6rem 0; background-color: #3b5998;" href="http://fb.me/trailblazer.to">
    <div class="info" style="text-align: center;">
      <h5 style="font-size: 0.9rem; color: white; font-weight: bold;">
        <i class="fa fa-facebook-square" aria-hidden="true" style="font-size: 1.2rem;"></i>
        LIKE US FOR UPDATES + GET A FREE STICKER PACK!
      </h5>
    </div>
  </a>


    <div data-sticky-container class="top-navbar">
  <div class="top-bar sticky" data-sticky data-options="marginTop:0;" style="width:100%">
    <div class="top-bar-title">
      <ul class="menu horizontal">
        <li>
          <a href="/"><img style="height: 25px;" src="/images/logo-top.svg"></a>
        </li>
        <li>
        <span data-responsive-toggle="responsive-menu" data-hide-for="medium">
          <button class="menu-icon" type="button" data-toggle></button>
        </span>
        </li>
      </ul>
    </div>

    <div id="responsive-menu">
      <div class="top-bar-right">
        <ul class="dropdown menu     vertical medium-horizontal" data-dropdown-menu>
          <li><a href="/blog/2017-12-trailblazer-2-1-what-you-need-to-know.html">TRB 2.1 IS COMING!</a></li>
          <li><a href="https://trbpro.herokuapp.com/">PREMIUM SUPPORT <img alt="Premium Support" src="/images/pro-white.png"></a></li>
          <li><a href="/newsletter/">NEWSLETTER</a></li>
          <li><a href="https://gitter.im/trailblazer/chat" onclick="trackOutboundLink('https://gitter.im/trailblazer/chat'); return false;">CHAT</a></li>
          <li><a href="/guides">LEARN</a></li>
          <li>
            <a href="#">GEMS</a>
            <ul class="menu vertical">
              <li class=""><a href="/gems/cells">CELLS</a></li>
              <li class=""><a href="/gems/operation/2.0/index.html">OPERATION</a></li>
              <li class=""><a href="/gems/reform">REFORM</a></li>
              <li class=""><a href="/gems/representable">REPRESENTABLE</a></li>
              <li class=""><a href="/gems/roar">ROAR</a></li>
              <li class=""><a href="/gems/formular">FORMULAR</a></li>
              <li class=""><a href="/gems/disposable">DISPOSABLE</a></li>
            </ul>
          </li>
          <li>
            <a href="https://leanpub.com/trailblazer" class="button secondary" onclick="trackOutboundLink('https://leanpub.com/trailblazer'); return false;">GET THE BOOK</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>


    <!-- Hero -->
<div class="hero gems-hero operation2-hero">
  <div class="hero-unit">
    <div class="expanded row">
      <div class="columns">
        <h1 id="project_title">
          Operation
        </h1>
      </div>
    </div>
  </div>
</div>


    <div class="expanded row">
      <div class="medium-9 large-10 medium-push-3 large-push-2 columns">
        <article class="operation2-body">

          
            <header id="doc-header">
  <h1 class="doc-page-title">Operation 2.1 API</h1>
  <span class="doc-last-updated"><i class="fa fa-clock-o" aria-hidden="true"></i> Last updated 23 November 2018</span>

  
    <span class="doc-last-updated">
      <i class="fa fa-diamond" aria-hidden="true"></i>
      <a href="https://github.com/trailblazer/trailblazer-operation">trailblazer-operation</a>

      <a href="/2.1/index.html">
      <span class="version">v2.1</span>
      </a>

    

    </span>
  

  <hr>

</header>

          

          <div class="row"> <!-- nach doc header -->
            <div class="large-9 columns" id="docs">   <!-- actual docs -->
              <p><em>THIS IS A FIRST VERSION OF ALL AVAILABLE DOCUMENTATION SNIPPETS. IT WILL BE RESTRUCTURED, DO NOT WORRY!</em></p>

<h2 id="yo" data-magellan-target="yo">yo</h2>

<div class="language-ruby highlighter-rouge">
<pre class="highlight"><code>  <span class="k">def</span> <span class="nf">a</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
  <span class="k">end</span>
</code></pre>
</div>
<p>explain</p>

<h2 id="activity" data-magellan-target="activity">Activity</h2>

<!-- @activity-circuit-interface <trailblazer-activity[1.0] activity, circuit interface, low level -->

<h3 id="activity-circuit-interface">Circuit Interface</h3>

<p>Activities and all tasks (or “steps”) are required to expose a <em>circuit interface</em>. This is the low-level interface. Most of the times it is hidden behind the <a href="#FIXME">task interface</a> that you’re probably used to from your operations when using <code class="highlighter-rouge">step</code>. Under the hood, however, all callable circuit elements operate through that very interface.</p>

<p>The circuit interface consists of three things.</p>

<ul>
  <li>A circuit element has to expose a <code class="highlighter-rouge">call</code> method.</li>
  <li>The signature of the <code class="highlighter-rouge">call</code> method is <code class="highlighter-rouge">call((ctx, flow_options), **circuit_options)</code>.</li>
  <li>Return value of the call method is an array of format <code class="highlighter-rouge">[signal, [new_ctx, new_flow_options]]</code>.</li>
</ul>

<p>Do not fear those syntactical finesses unfamiliar to you, young padawan.</p>

<div class="language-ruby highlighter-rouge">
<pre class="highlight"><code><span class="k">module</span> <span class="nn">Create</span>
  <span class="kp">extend</span> <span class="no">Trailblazer</span><span class="o">::</span><span class="no">Activity</span><span class="o">::</span><span class="no">Railway</span><span class="p">()</span>
  <span class="kp">module_function</span>

  <span class="k">def</span> <span class="nf">validate</span><span class="p">((</span><span class="n">ctx</span><span class="p">,</span> <span class="n">flow_options</span><span class="p">),</span> <span class="o">**</span><span class="n">circuit_options</span><span class="p">)</span>
    <span class="c1"># ...</span>
    <span class="k">return</span> <span class="n">signal</span><span class="p">,</span> <span class="p">[</span><span class="n">ctx</span><span class="p">,</span> <span class="n">flow_options</span><span class="p">]</span>
  <span class="k">end</span>

  <span class="n">step</span> <span class="ss">task: </span><span class="nb">method</span><span class="p">(</span><span class="ss">:validate</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
</div>
<p>Both the <code class="highlighter-rouge">Create</code> activity itself and the <code class="highlighter-rouge">validate</code> step expose the circuit interface. Note that the <code class="highlighter-rouge">:task</code> option for <code class="highlighter-rouge">step</code> configures this element as a low-level circuit interface, or in other words, it will skip the wrapping with the task interface.</p>

<p>Maybe it makes more sense now when you see how an activity is called manually? Here’s how to invoke <code class="highlighter-rouge">Create</code>.</p>

<div class="language-ruby highlighter-rouge">
<pre class="highlight"><code><span class="n">ctx</span>          <span class="o">=</span> <span class="p">{</span><span class="ss">name: </span><span class="s2">"Face to Face"</span><span class="p">}</span>
<span class="n">flow_options</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">signal</span><span class="p">,</span> <span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">flow_options</span><span class="p">)</span> <span class="o">=</span> <span class="no">Create</span><span class="o">.</span><span class="p">([</span><span class="n">ctx</span><span class="p">,</span> <span class="n">flow_options</span><span class="p">],</span> <span class="p">{})</span>

<span class="n">signal</span> <span class="c1">#=&gt; #&lt;Trailblazer::Activity::End semantic=:success&gt;</span>
<span class="n">ctx</span>    <span class="c1">#=&gt; {:name=&gt;\"Face to Face\", :validate_outcome=&gt;true}</span>
</code></pre>
</div>
<p>Note that both <code class="highlighter-rouge">ctx</code> and <code class="highlighter-rouge">flow_options</code> can be just anything. Per convention, they respond to a hash interface, but theoretically it’s up to you how your network of activities and tasks communicates.</p>

<p>Check the implementation of <code class="highlighter-rouge">validate</code> to understand how you return a different signal or a changed <code class="highlighter-rouge">ctx</code>.</p>

<div class="language-ruby highlighter-rouge">
<pre class="highlight"><code><span class="k">def</span> <span class="nf">validate</span><span class="p">((</span><span class="n">ctx</span><span class="p">,</span> <span class="n">flow_options</span><span class="p">),</span> <span class="o">**</span><span class="n">circuit_options</span><span class="p">)</span>
  <span class="n">is_valid</span> <span class="o">=</span> <span class="n">ctx</span><span class="p">[</span><span class="ss">:name</span><span class="p">].</span><span class="nf">nil?</span> <span class="p">?</span> <span class="kp">false</span> <span class="p">:</span> <span class="kp">true</span>

  <span class="n">ctx</span>    <span class="o">=</span> <span class="n">ctx</span><span class="p">.</span><span class="nf">merge</span><span class="p">(</span><span class="ss">validate_outcome: </span><span class="n">is_valid</span><span class="p">)</span> <span class="c1"># you can change ctx</span>
  <span class="n">signal</span> <span class="o">=</span> <span class="n">is_valid</span> <span class="p">?</span> <span class="no">Trailblazer</span><span class="o">::</span><span class="no">Activity</span><span class="o">::</span><span class="no">Right</span> <span class="p">:</span> <span class="no">Trailblazer</span><span class="o">::</span><span class="no">Activity</span><span class="o">::</span><span class="no">Left</span>

  <span class="k">return</span> <span class="n">signal</span><span class="p">,</span> <span class="p">[</span><span class="n">ctx</span><span class="p">,</span> <span class="n">flow_options</span><span class="p">]</span>
<span class="k">end</span>
</code></pre>
</div>
<p>Make sure to always stick to the <code class="highlighter-rouge">return</code> signature on the circuit interface level.</p>

<h4 id="circuit-interface-signature">Signature</h4>

<p>The circuit interface is a bit more clumsy but it gives you unlimited power over the way the activity will be run. And trust us, we’ve been playing with different APIs for two years and this was the easiest and fastest outcome.</p>

<div class="language-ruby highlighter-rouge">
<pre class="highlight"><code><span class="k">def</span> <span class="nf">validate</span><span class="p">((</span><span class="n">ctx</span><span class="p">,</span> <span class="n">flow_options</span><span class="p">),</span> <span class="o">**</span><span class="n">circuit_options</span><span class="p">)</span>
  <span class="c1"># ...</span>
  <span class="k">return</span> <span class="n">signal</span><span class="p">,</span> <span class="p">[</span><span class="n">ctx</span><span class="p">,</span> <span class="n">flow_options</span><span class="p">]</span>
<span class="k">end</span>
</code></pre>
</div>
<p>The alienating signature uses <a href="https://docs.ruby-lang.org/en/2.1.0/syntax/methods_rdoc.html#label-Array+Decomposition">Ruby’s decomposition</a> feature. This only works because the first argument for <code class="highlighter-rouge">call</code> is actually an array.</p>

<p>Using this interface empowers you to fully take <em>control of the flow™</em>.</p>

<ul>
  <li>You can return any <code class="highlighter-rouge">signal</code> you want, not only the binary style in <em>steps</em>.</li>
  <li>If needed, the <code class="highlighter-rouge">ctx</code> object might be mutated or, better, replaced and a new version returned. This is the place where you’d start implementing an immutable version of Trailblazer’s <code class="highlighter-rouge">ctx</code>, for instance.</li>
  <li>Advanced features like tracing, input/output filters or type checking leverage the framework argument <code class="highlighter-rouge">flow_options</code>, which will be passed onwards through the entire activities flow. Know what you’re doing when using <code class="highlighter-rouge">flow_options</code> and <strong>always return it</strong> even if you’re not changing it.</li>
  <li>The <code class="highlighter-rouge">circuit_options</code> is another framework argument needed to control the start task and more. It is immutable and you don’t have to return it. The same <code class="highlighter-rouge">circuit_options</code> are guaranteed to be passed to all invoked tasks in one activity.</li>
</ul>

<p>Since in 99% the <code class="highlighter-rouge">circuit_options</code> are irrelevant, it’s nicer and faster to discard them instantly.</p>

<div class="language-ruby highlighter-rouge">
<pre class="highlight"><code><span class="k">def</span> <span class="nf">validate</span><span class="p">((</span><span class="n">ctx</span><span class="p">,</span> <span class="n">flow_options</span><span class="p">),</span> <span class="o">*</span><span class="p">)</span>
  <span class="c1"># ...</span>
<span class="k">end</span>
</code></pre>
</div>

<p>Use the lonely <code class="highlighter-rouge">*</code> squat asterisk to do so.</p>

<!-- @trailblazer-rails <trailblazer-rails[] loader, trailblazer-loader, rails support, -->

<h2 id="trailblazer-rails" data-magellan-target="trailblazer-rails">Trailblazer in Rails</h2>

<p>Trailblazer runs with any Ruby web framework. However, if you’re using Rails, you’re lucky since we provide convenient glue code in the <code class="highlighter-rouge">trailblazer-rails</code> gem.</p>

<div class="language-ruby highlighter-rouge">
<pre class="highlight"><code><span class="n">gem</span> <span class="s2">"trailblazer-rails"</span>
</code></pre>
</div>

<p>todo: add versioning information</p>

<h3 id="loader">Loader</h3>

<p>The <code class="highlighter-rouge">trailblazer-loader</code> gem implements a very simple way to load all files in your <code class="highlighter-rouge">concepts</code> directory in a heuristically meaningful order. It can be used in any environment.</p>

<!-- @trailblazer-loader, <trailblazer-loader[] disable loader, file structure -->

<h4 id="trailblazer-rails-loader">Loader with Rails</h4>

<p>The <code class="highlighter-rouge">trailblazer-loader</code> gem comes pre-bundled with <code class="highlighter-rouge">trailblazer-rails</code> for historical reasons: in the early days of Trailblazer, the conventional file name <code class="highlighter-rouge">concepts/product/operation/create.rb</code> didn’t match the short operation name, such as <code class="highlighter-rouge">Product::Create</code>.</p>

<p>The <code class="highlighter-rouge">trailblazer-loader</code> gem’s duty was to load all concept files without using Rails’ autoloader, overcoming the latter’s conventions.</p>

<p>Over the years, and with the emerge of controller helpers or our workflow engine calling operations for you, the class name of an operation more and becomes a thing not to worry about.</p>

<p>Many projects use Trailblazer along with the Rails naming convention now. This means you can disable the loader gem, and benefit from Rails auto-magic behavior such as faster loading in the “correct” order, reloading and all the flaws that come with this non-deterministic behavior.</p>

<p>As a first step, add <code class="highlighter-rouge">Operation</code> to your operation’s class name, matching the Rails naming convention.</p>

<div class="language-ruby highlighter-rouge">
<pre class="highlight"><code><span class="c1"># app/concepts/product/operation/create.rb</span>

<span class="k">module</span> <span class="nn">Product::Operation</span>
  <span class="k">class</span> <span class="nc">Create</span> <span class="o">&lt;</span> <span class="no">Trailblazer</span><span class="o">::</span><span class="no">Operation</span>
    <span class="c1"># ...</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>

<p>It’s a Trailblazer convention to put <code class="highlighter-rouge">[ConceptName]::Operation</code> in one line: it will force Rails to load the concept name constant, so you don’t have to reopen the class yourself.</p>

<p>This will result in a class name <code class="highlighter-rouge">Product::Operation::Create</code>.</p>

<p>Next, disable the loader gem, in <code class="highlighter-rouge">config/initializers/trailblazer.rb</code>.</p>

<div class="language-ruby highlighter-rouge">
<pre class="highlight"><code><span class="c1"># config/initializers/trailblazer.rb</span>

<span class="no">YourApp</span><span class="o">::</span><span class="no">Application</span><span class="p">.</span><span class="nf">config</span><span class="p">.</span><span class="nf">trailblazer</span><span class="p">.</span><span class="nf">enable_loader</span> <span class="o">=</span> <span class="kp">false</span>
</code></pre>
</div>

<p>Trailblazer files will now be loaded by Rails - you need to follow the Rails autoloading file naming from here on, and things should run smoothly. A nice side-effect here is that in bigger projects (with hundreds of operations), the start-up time in development accelerates significantly.</p>

            </div>

            <div class="large-3 columns sticky-container" data-sticky-container>

              
                <nav class="sticky columns docs-toc-wrap sticky is-anchored is-at-top side-nav" data-sticky data-anchor="docs" data-sticky-on="large" data-margin-top="5">
  
        <ul class="vertical menu" data-magellan id="page-toc">
          <li class="page-toc-heading">ON THIS PAGE:</li>
          <li><a href="#yo">yo</a></li>
<li><a href="#activity">Activity</a></li>
<li><a href="#trailblazer-rails">Trailblazer in Rails</a></li>
        </ul>
      
</nav>

              

            </div>
          </div>
        </article>
      </div>

      <div class="medium-3 large-2 medium-pull-9 large-pull-10 columns">
        <ul id="sidebar" class="side-nav accordion" data-accordion>

  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>OPERATION</strong> 2.1
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="/2.1/trailblazer/wiring.html">Wiring API</a></li>
        <li><a href="/2.1/trailblazer/api.html">Operation API</a></li>
        <li><a href="/gems/operation/2.0/contract.html">Contract</a></li>
        <!--<li><a href="/gems/operation/2.0/representer.html">Representer</a></li>-->
        <li><a href="/gems/operation/2.0/policy.html">Policy</a></li>
        <li><a href="/gems/operation/2.0/representer.html">Representer</a></li>
        <!--<li><a href="/gems/operation/2.0/pipetree.html">Pipetree</a></li>-->
        <li><a href="/gems/operation/2.0/endpoint.html">Endpoint</a></li>
        <li>
<a href="/gems/operation/1.1/index.html">
            <span class="sidebar-info">→ v1.1</span>
          </a>
        </li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>TRAILBLAZER</strong> 2.1
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="/gems/trailblazer/index.html">Overview</a></li>
        <li><a href="/gems/trailblazer/2.0/rails.html">Rails</a></li>
        <li><a href="/gems/trailblazer/2.0/test.html">Test</a></li>
        <li><a href="/gems/trailblazer/loader.html">Loader</a></li>
        <li><a href="/gems/trailblazer/upgrading-1-to-2.html">Upgrading</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>ACTIVITY</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="/gems/activity/0.2/api.html">API</a></li>
        <li><a href="/gems/activity/0.2/flow.html">Control flow</a></li>
      </ul>
    </div>
  </li>


  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>CELLS</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="/gems/cells">Overview</a></li>
        <li><a href="/gems/cells/getting-started.html">Getting Started<span class="sidebar-info">NEW</span></a></li>
        <li><a href="/gems/cells/api.html">API</a></li>
        <li><a href="/gems/cells/trailblazer.html">Trailblazer::Cell</a></li>
        <li><a href="/gems/cells/testing.html">Testing</a></li>
        <li><a href="/gems/cells/render.html">Rendering</a></li>
        <li><a href="/gems/cells/rails.html">Rails</a></li>
        <li><a href="/gems/cells/templates.html">Templates</a></li>
        <li><a href="/gems/cells/troubleshooting.html">Troubleshooting</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>REFORM</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="/gems/reform/index.html">Overview</a></li>
        <li><a href="/gems/reform/api.html">API</a></li>
        <li><a href="/gems/reform/options.html">Options</a></li>
        <li><a href="/gems/reform/data-types.html">Data Types</a></li>
        <li><a href="/gems/reform/populator.html">Populator</a></li>
        <li><a href="/gems/reform/prepopulator.html">Prepopulator</a></li>
        <li><a href="/gems/reform/validation.html">Validation</a></li>
        <li><a href="/gems/reform/rails.html">Rails</a></li>
        <li><a href="/gems/reform/debugging.html">Debugging</a></li>
        <li><a href="/gems/reform/upgrading-guide.html">Upgrading Guide</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>REPRESENTABLE</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="/gems/representable">Overview</a></li>
        <li><a href="/gems/representable/getting-started.html">Getting Started</a></li>
        <li><a href="/gems/representable/3.0/api.html">API</a></li>
        <li><a href="/gems/representable/3.0/function-api.html">Function API</a></li>
        <li><a href="/gems/representable/3.0/populator.html">Populator</a></li>
        <!--<li><a href="/gems/representable/architecture.html">Architecture</a></li>-->
        <li><a href="/gems/representable/3.0/xml.html">XML</a></li>
        <li><a href="/gems/representable/3.0/yaml.html">YAML</a></li>
        <li><a href="/gems/representable/upgrading-guide.html">Upgrading Guide</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>ROAR</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="/gems/roar/index.html">Overview</a></li>
        <li><a href="/gems/roar/jsonapi.html">JSON API</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>FORMULAR</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <!-- <li><a href="/gems/formular/index.html">Overview</a></li> -->
        <li><a href="/gems/formular/bootstrap.html">Bootstrap</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>DISPOSABLE</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="/gems/disposable/index.html">Overview</a></li>
        <li><a href="/gems/disposable/api.html">API</a></li>
        <li><a href="/gems/disposable/default.html">Default</a></li>
        <li><a href="/gems/disposable/callback.html">Callback</a></li>
      </ul>
    </div>
  </li>

  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong>GUIDES</strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="/guides/index.html">Overview</a></li>
        <li><a href="/guides/trailblazer/2.0/01-operation-basics.html">01 - Operation Basics</a></li>
        <li><a href="/guides/trailblazer/2.0/02-trailblazer-basics.html">02 - Trailblazer Basics</a></li>
        <li><a href="/guides/trailblazer/2.0/03-rails-basics.html">03 - Rails Basics</a></li>
      </ul>
    </div>
  </li>

  <!--
  <li class="accordion-item" data-accordion-item>
    <a href="#" class="accordion-title">
      <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
      <strong></strong>
    </a>
    <div class="accordion-content" data-tab-content>
      <ul class="vertical menu">
        <li><a href="">Overview</a></li>
        
      </ul>
    </div>
  </li>

  -->
</ul>

<script>
  (function (document, window) {
    var $sidebar = $('#sidebar');
    var $items = $sidebar.find('.accordion-item')
    var currentPath = window.location.pathname;

    $items.each(function (i, elem) {
      var $elem = $(elem);
      var linkHref = $elem
        .find('.accordion-content li:first-child a')
        .attr('href')
        .replace('index.html', '');
console.log(linkHref);
      if (currentPath.indexOf(linkHref) !== -1) {
        $elem.addClass('is-active')
      }
    })
  })(document, window);
</script>

      </div>
    </div>


    <section class="top-footer">
  <div class="row">
    <div class="columns medium-6">
      <h3>Newsletter</h3>
      <p>
        Stay on top of what’s happening in Trailblazer.
      </p>
        <div class="row">
          <div id="mc_embed_signup">
            <form action="//trailblazerb.us8.list-manage.com/subscribe/post?u=bbe5021ab6fbdc94a16f0d036&amp;id=a69f6e4652" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>

              <div class="columns large-9 medium-12 ">
                <div class="row collapse prefix-radius">
                  <div class="small-8 medium-7 large-8 columns">
                    <div id="mc_embed_signup_scroll">
                      <div class="mc-field-group">
                        <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="youremail@trailblazer.to">
                      </div>
                      <div id="mce-responses" class="clear">
                        <div class="response" id="mce-error-response" style="display:none"></div>
                        <div class="response" id="mce-success-response" style="display:none"></div>
                      </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                      <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_bbe5021ab6fbdc94a16f0d036_a69f6e4652" tabindex="-1" value=""></div>

                    </div>
                  </div>
                  <div class="small-4 medium-5 large-4 columns">
                    <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button postfix secondary">
                  </div>
                </div>
              </div>
            </form>
          </div>
          <script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script><script type="text/javascript">(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
        </div>
      <p>
        And check out the <a href="/newsletter/">archive of newsletters</a>!
      </p>


    </div>
    <div class="columns medium-6">
      <h3>The Book</h3>
      <p>Learn how to build a Rails app with Trailblazer, step-by-step.</p>
      <a href="https://leanpub.com/trailblazer" class="button secondary">Get the book!</a>
    </div>
  </div>
</section>

<footer>
  <div class="row">
    <div class="columns medium-4">
      <div class="logo-box">
        <a href="/"><img src="/images/icon_trb.png">
        </a>
      </div>
    </div>
    <div class="columns medium-8">
      <div class="row">
        <div class="columns medium-6">
          <h4>
            Trailblazer
          </h4>
          <ul class="no-bullet">
            <li><a href="https://gitter.im/trailblazer/chat">Gitter chat</a></li>
            <li><a href="https://leanpub.com/trailblazer" onclick="trackOutboundLink('https://leanpub.com/trailblazer'); return false;">The book</a></li>
          </ul>
        </div>
        <div class="columns medium-6">
          <h4>
            Follow Us
          </h4>
          <ul class="menu">
            <li>
              <a href="https://github.com/trailblazer">
                <i class="footer-icon github-icon"></i>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/trailblazer_to">
                <i class="footer-icon twitter-icon"></i>
              </a>
            </li>
            <li>
              <a href="https://facebook.com/trailblazer.to">
                <i class="footer-icon facebook-icon"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <p class="copyright">
        Trailblazer is created by <a href="/inc/index.html">Trailblazer GmbH</a> and awesome friends.
      </p>
      <p class="copyright">
        Site designed and handcoded with love by <a href="https://twitter.com/noeliacabane">Noelia Cabane</a>
      </p>
    </div>
  </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69514939-1', 'auto');
  ga('send', 'pageview');

  /**
  * Function that tracks a click on an outbound link in Analytics.
  * This function takes a valid URL string as an argument, and uses that URL string
  * as the event label. Setting the transport method to 'beacon' lets the hit be sent
  * using 'navigator.sendBeacon' in browser that support it.
  */
  var trackOutboundLink = function(url) {
     ga('send', 'event', 'outbound', 'click', url, {
       'transport': 'beacon',
       'hitCallback': function(){document.location = url;}
     });
  }
</script>



  </body>
</html>
